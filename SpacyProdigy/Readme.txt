### Installation
From root with conda deactivated
	1) sudo su
	2) conda deactivate
	3) cd /home/jian/mengling/TobaccoResearch/SpacyProdigy
	4) pip install prodigy -f ./linux
Step 4) installs from a wheel file (the linux folder has the wheels that will be auto-selected)


### Prodigy server startup
0. Run in root with conda deactivated
1. Better to run from VSCode terminal - can access both localhost (8080) and online
2. Online is directed to server port 38080 (by file 'prodigy.service')
3. Online access address http://experiments.jiangsn.com/prodigy/
4. 'prodigy.sh' is used with linux service to auto-start at machine startup
	1) To start the service: (sudo) service prodigy restart
	2) To check service status: (sudo) service prodigy status
	3) To stop a prodigy instance: (sudo) service prodigy stop
5. No need to start the service for a prodigy run
	1) If service is on and another prodigy run is initiated, 
		they will fight for the same port and report error

### Command line execute (recipes) 
1. To run NER annotation (log file is optional)
	prodigy ner.manual test02 blank:en prodigyNER01.jsonl --label tobaccoLabels
	# the .jsonl file can be generated by code (no need to show the tokens)
2. To output saved results:
	prodigy db-out tobacco_ner_test > ./tobacco_anno.jsonl
3. To review an annotation file
	prodigy review tobacco_ner_test tobacco_ner_test
4. To correct and existing annotation file (this is meant for the model to auto-label and then correct manually)
	prodigy ner.correct test en_core_web_sm anno_test.jsonl --label tobaccoLabels -U

### Configuration file
Put prodigy.json in the current working folder (will overwrite global one)
1. To annotate whole document
	"custom_theme": {"cardMaxWidth": "95%", "smallText": 16}
